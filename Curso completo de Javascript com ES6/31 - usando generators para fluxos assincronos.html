<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Hello World</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">   
</head>

<body></body>

<script>	

	//Função que executa o next 
	function ajax(url){
		fetch(url)
			.then(data => data.json())
			.then(data => dados.next(data));
	}

	//Função que sempre chama a function ajax, assim, não precisamos chamar o next para cada retorno
	function* ajaxGen(){
		console.log("Buscando posts...");
		const posts = yield ajax("https://willianjusten.com.br/search.json");
		console.log(posts);
		
		console.log("Buscando dados github...");
		const github = yield ajax('https://api.github.com/users/willianjusten');
        console.log(github);
	
		console.log('Buscando dados github 2...')
        const github2 = yield ajax('https://api.github.com/users/willianjusten');
        console.log(github2);
    }

	const dados = ajaxGen();
	dados.next();
</script>
</html>